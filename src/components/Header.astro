<!-- <header class="flex justify-between items-center py-4 w-auto xl:w-[1120px] mx-auto">
    <div class="flex items-center gap-x-2">
            <span class="font-bold text-lg ml-2">erickdev</span>
    </div>
    <nav class="flex flex-row gap-x-10">
        <a href="#top">Inicio</a>
        <a href="#experience">Experiencia</a>
        <a href="#project">Proyectos</a>
        <a href="#contact">Contacto</a>
    </nav>
</header> -->
<header
  class="fixed top-0 left-0 right-0 py-4 w-full px-4 z-50 bg-neutral-900/20 backdrop-blur"
>
  <div class="w-full max-w-6xl mx-auto flex justify-between items-center">
    <!-- Logo -->
    <div class="flex items-center gap-x-2">
      <a href="/" class="font-bold text-lg ml-2">erickdev</a>
    </div>

    <!-- Botón menú (solo móviles) -->
    <button
      id="menu-btn"
      class="lg:hidden flex flex-col justify-center items-center w-8 h-8 focus:outline-none"
    >
      <span class="block w-6 h-0.5 bg-white mb-1 transition-all"></span>
      <span class="block w-6 h-0.5 bg-white mb-1 transition-all"></span>
      <span class="block w-6 h-0.5 bg-white transition-all"></span>
    </button>

    <!-- Menú -->
    <!-- Menú -->
    <nav
      id="menu"
      class="hidden flex-col gap-y-4 absolute top-16 left-0 w-full lg:w-auto bg-neutral-950/95 shadow-md p-6
                       lg:p-0 lg:static lg:flex lg:flex-row lg:gap-x-10 lg:shadow-none lg:bg-transparent"
    >
      <a href="#experience" class="nav-link relative group text-white">
        Experiencia
        <span
          class="absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-600 transition-all duration-300 group-hover:w-full"
        ></span>
      </a>
      <a href="#project" class="nav-link relative group text-white">
        Proyectos
        <span
          class="absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-600 transition-all duration-300 group-hover:w-full"
        ></span>
      </a>
      <a href="#aboutme" class="nav-link relative group text-white">
        Sobre mí
        <span
          class="absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-600 transition-all duration-300 group-hover:w-full"
        ></span>
      </a>
      <a href="#contact" class="nav-link relative group text-white">
        Contacto
        <span
          class="absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-600 transition-all duration-300 group-hover:w-full"
        ></span>
      </a>
    </nav>
  </div>
</header>

<!-- Script: corre en el navegador sin necesidad de is:client -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("menu-btn");
    const menu = document.getElementById("menu");

    btn?.addEventListener("click", () => {
      menu?.classList.toggle("hidden");
      menu?.classList.toggle("flex");
    });

    // Cerrar menú al dar clic en un enlace
    menu?.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", () => {
        menu.classList.add("hidden");
        menu.classList.remove("flex");
      });
    });
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("menu-btn");
    const menu = document.getElementById("menu");

    btn?.addEventListener("click", () => {
      menu?.classList.toggle("hidden");
      menu?.classList.toggle("flex");
    });

    // Cerrar menú al dar clic en un enlace
    menu?.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", () => {
        menu.classList.add("hidden");
        menu.classList.remove("flex");
      });
    });

    // ---- Scrollspy ----
    const sections = document.querySelectorAll("section[id]");
    const navLinks = document.querySelectorAll(".nav-link");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // id de la sección visible
            const id = entry.target.getAttribute("id");
            // quitar 'active' de todos
            navLinks.forEach((link) => link.classList.remove("active"));
            // añadir 'active' al actual
            const currentLink = document.querySelector(
              `.nav-link[href="#${id}"]`,
            );
            currentLink?.classList.add("active");
          }
        });
      },
      {
        threshold: 0.5, // cuando 50% de la sección esté visible
      },
    );

    sections.forEach((section) => observer.observe(section));
  });
</script>

<style>
  .nav-link.active {
    color: #3b82f6; /* azul Tailwind */
  }

  .nav-link.active span {
    width: 100%; /* subrayado visible siempre */
  }
</style>
